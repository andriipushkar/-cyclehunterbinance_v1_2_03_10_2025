–û—Å—å —Ç–µ–∫—Å—Ç–æ–≤–∏–π –ø–æ–∫—Ä–æ–∫–æ–≤–∏–π –ø–ª–∞–Ω –¥—ñ–π –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—ñ, –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Ç–∞ —à–≤–∏–¥–∫–æ–¥—ñ—ó –ø—Ä–æ—î–∫—Ç—É
cyclehunterbinance_v1_2_03_10_2025 üëá

üîπ 1. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—ñ

–ü–µ—Ä–µ–ø–∏—Å–∞—Ç–∏ –≤—Å—ñ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ (async def).

–ó–∞–º—ñ–Ω–∏—Ç–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É requests –Ω–∞ aiohttp –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ HTTP-–∑–∞–ø–∏—Ç–∞–º–∏.

–ó–∞–º—ñ–Ω–∏—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–µ –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–∞–ø–∏—Å JSON-—Ñ–∞–π–ª—ñ–≤ –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ (aiofiles).

–í –æ—Å–Ω–æ–≤–Ω–æ–º—É —Ñ–∞–π–ª—ñ –∑—Ä–æ–±–∏—Ç–∏ –≥–æ–ª–æ–≤–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é async def main() —Ç–∞ –∑–∞–ø—É—Å–∫–∞—Ç–∏ —ó—ó —á–µ—Ä–µ–∑ asyncio.run(main()).

–î–ª—è WebSocket-–∑‚Äô—î–¥–Ω–∞–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–∏—à–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π —Ä–µ–∂–∏–º ‚Äî –∑–∞–ø—É—Å–∫–∞—Ç–∏ –∫–æ–∂–Ω–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —è–∫ –æ–∫—Ä–µ–º—É –∑–∞–¥–∞—á—É (asyncio.create_task).

–î–æ–¥–∞—Ç–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É —á–µ—Ä–≥—É (asyncio.Queue) –º—ñ–∂ –º–æ–¥—É–ª–µ–º WebSocket —ñ –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä–æ–º, —â–æ–± –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω—ñ —Ü—ñ–Ω–∏ –±–µ–∑ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è.

–î–ª—è –æ–±—Ä–æ–±–∫–∏ —Ç—Ä–∏–∫—É—Ç–Ω–∏—Ö —Ü–∏–∫–ª—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ asyncio.gather() –∞–±–æ asyncio.TaskGroup, —â–æ–± —É—Å—ñ –º–∞—Ä—à—Ä—É—Ç–∏ –∞–Ω–∞–ª—ñ–∑—É–≤–∞–ª–∏—Å—è –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ.

–î–æ–¥–∞—Ç–∏ –æ–±–º–µ–∂—É–≤–∞—á –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (asyncio.Semaphore), —â–æ–± –Ω–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∑–∞–Ω–∞–¥—Ç–æ –±–∞–≥–∞—Ç–æ –æ–¥–Ω–æ—á–∞—Å–Ω–∏—Ö –∑–∞–¥–∞—á.

üîπ 2. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

–ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤—Å—ñ –∞–∫—Ç—É–∞–ª—å–Ω—ñ —Ü—ñ–Ω–∏ –≤ –ø–∞–º‚Äô—è—Ç—ñ (—Å–ª–æ–≤–Ω–∏–∫ dict), –∞ –Ω–µ –∑—á–∏—Ç—É–≤–∞—Ç–∏ –∑ —Ñ–∞–π–ª—É –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –æ–±—á–∏—Å–ª–µ–Ω–Ω—ñ.

–ü–∏—Å–∞—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω—ñ —Ü—ñ–Ω–∏ —É —Ñ–∞–π–ª –Ω–µ –ø—ñ—Å–ª—è –∫–æ–∂–Ω–æ—ó –∑–º—ñ–Ω–∏, –∞ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ (—Ä–∞–∑ –Ω–∞ –∫—ñ–ª—å–∫–∞ —Å–µ–∫—É–Ω–¥ –∞–±–æ –ø—ñ—Å–ª—è –ø–µ–≤–Ω–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –æ–Ω–æ–≤–ª–µ–Ω—å).

–í—Ä–∞—Ö—É–≤–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∫–µ—à—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –∞–Ω–∞–ª—ñ–∑—É —Ü–∏–∫–ª—ñ–≤ (—è–∫—â–æ –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ –Ω–µ –∑–º—ñ–Ω–∏–ª–∏—Å—å ‚Äî –Ω–µ –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏).

–î–ª—è —á–∏—Å–ª–æ–≤–∏—Ö —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—ñ–≤ –∑–º–µ–Ω—à–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ–π –∑ –ø–ª–∞–≤–∞—é—á–æ—é —Ç–æ—á–∫–æ—é (–º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ decimal.Decimal –∞–±–æ –æ–∫—Ä—É–≥–ª–µ–Ω–Ω—è).

–ú—ñ–Ω—ñ–º—ñ–∑—É–≤–∞—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó print() ‚Äî –∑–∞–º—ñ—Å—Ç—å —Ü—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è (loguru –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º enqueue=True).

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –Ω–µ–±–ª–æ–∫—É—é—á—ñ –∑–∞—Ç—Ä–∏–º–∫–∏ (await asyncio.sleep()), –∑–∞–º—ñ—Å—Ç—å –∑–≤–∏—á–∞–π–Ω–∏—Ö time.sleep().

–Ø–∫—â–æ —î –ø–æ–≤—Ç–æ—Ä–Ω—ñ —Ü–∏–∫–ª–∏ –∞–±–æ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ –º–∞—Ä—à—Ä—É—Ç–∏ ‚Äî –∫–µ—à—É–≤–∞—Ç–∏ —ó—Ö –ø–æ —Ö–µ—à—É.

üîπ 3. –ü–µ—Ä–µ—Ä–æ–±–∫–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—ñ

–í–∏–Ω–µ—Å—Ç–∏ —á–∞—Å—Ç–∏–Ω–∏ –ø—Ä–æ–≥—Ä–∞–º–∏ –≤ –æ–∫—Ä–µ–º—ñ –º–æ–¥—É–ª—ñ:

core/websocket/ ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ü—ñ–Ω —ñ–∑ WebSocket;

core/arbitrage/ ‚Äî –ª–æ–≥—ñ–∫–∞ –ø–æ—à—É–∫—É —Ç—Ä–∏–∫—É—Ç–Ω–∏—Ö —Ü–∏–∫–ª—ñ–≤;

core/storage/ ‚Äî —Ä–æ–±–æ—Ç–∞ –∑ —Ñ–∞–π–ª–∞–º–∏ —Ç–∞ –∫–µ—à–µ–º;

core/logs/ ‚Äî –ª–æ–≥—É–≤–∞–Ω–Ω—è;

core/utils/ ‚Äî –¥–æ–ø–æ–º—ñ–∂–Ω—ñ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó.

–ì–æ–ª–æ–≤–Ω–∏–π –º–æ–¥—É–ª—å (main.py) –º–∞—î –ª–∏—à–µ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ –∑–∞–¥–∞—á—ñ:

–æ–∫—Ä–µ–º–∏–π —Ç–∞—Å–∫ –¥–ª—è WebSocket;

–æ–∫—Ä–µ–º–∏–π —Ç–∞—Å–∫ –¥–ª—è –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä–∞;

–æ–∫—Ä–µ–º–∏–π —Ç–∞—Å–∫ –¥–ª—è –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É —Ü—ñ–Ω.

–í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ asyncio.gather() –¥–ª—è –æ–¥–Ω–æ—á–∞—Å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É –≤—Å—ñ—Ö —Ü–∏—Ö —á–∞—Å—Ç–∏–Ω.

üîπ 4. –ü–æ–ª—ñ–ø—à–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ

–ó–∞–º—ñ—Å—Ç—å –ø–æ–≤–Ω–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É –≤—Å—ñ—Ö —Ü–∏–∫–ª—ñ–≤ –ø—Ä–∏ –∫–æ–∂–Ω—ñ–π –∑–º—ñ–Ω—ñ —Ü—ñ–Ω–∏ ‚Äî –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ç–∏—Ö –ø–∞—Ä, —è–∫—ñ –æ–Ω–æ–≤–∏–ª–∏—Å—è.

–í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ ‚Äî –ø–µ—Ä–µ—Ä–∞—Ö—É–Ω–æ–∫ –ª–∏—à–µ —á–∞—Å—Ç–∏–Ω–∏ –º–∞—Ä—à—Ä—É—Ç—É, –¥–µ –∑–º—ñ–Ω–∏–ª–∞—Å—å –ø–∞—Ä–∞.

–î–æ–¥–∞—Ç–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –∫–µ—à –ø—Ä–∏–±—É—Ç–∫–æ–≤–æ—Å—Ç—ñ –º–∞—Ä—à—Ä—É—Ç—ñ–≤, —â–æ–± —à–≤–∏–¥–∫–æ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –∑–º—ñ–Ω–∏ –±–µ–∑ –ø–æ–≤–Ω–æ–≥–æ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è.

–î–æ–¥–∞—Ç–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä—ñ–≤ —ñ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é –Ω–µ—Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–∏—Ö –º–∞—Ä—à—Ä—É—Ç—ñ–≤ –ø–µ—Ä–µ–¥ –∞–Ω–∞–ª—ñ–∑–æ–º.

üîπ 5. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è

–ó–∞–º—ñ–Ω–∏—Ç–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π logging –Ω–∞ loguru.

–í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π —Ä–µ–∂–∏–º (enqueue=True), —â–æ–± –ª–æ–≥—É–≤–∞–Ω–Ω—è –Ω–µ –±–ª–æ–∫—É–≤–∞–ª–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–¥—É.

–ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –ª–æ–≥–∏ —É —Ñ–∞–π–ª—ñ core/logs/runtime.log.

–î–æ–¥–∞—Ç–∏ —Ä—ñ–≤–Ω—ñ –ª–æ–≥—ñ–≤: info, warning, error, debug.

üîπ 6. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π —Ñ–∞–π–ª tests/test_performance.py.

–ó–∞–º—ñ—Ä—è—Ç–∏:

—à–≤–∏–¥–∫—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ü—ñ–Ω –¥–ª—è 1000 —Ç–æ—Ä–≥–æ–≤–∏—Ö –ø–∞—Ä —á–µ—Ä–µ–∑ WebSocket;

—á–∞—Å –ø–æ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª—É –∞–Ω–∞–ª—ñ–∑—É –º–∞—Ä—à—Ä—É—Ç—ñ–≤;

—Å–µ—Ä–µ–¥–Ω—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è CPU —Ç–∞ RAM –ø—ñ–¥ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º.

–í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ timeit, aiometer –∞–±–æ asyncio-profiler.

–ù–∞ –æ—Å–Ω–æ–≤—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ ‚Äî –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –Ω–∞–π–±—ñ–ª—å—à –ø–æ–≤—ñ–ª—å–Ω—ñ —á–∞—Å—Ç–∏–Ω–∏.

üîπ 7. –ü–ª–∞–Ω –ø–æ–∫—Ä–æ–∫–æ–≤–æ—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó
–ï—Ç–∞–ø	–ó–∞–≤–¥–∞–Ω–Ω—è	–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
1	–ó–∞–º—ñ–Ω–∏—Ç–∏ requests –Ω–∞ aiohttp	—à–≤–∏–¥—à–∏–π –æ–±–º—ñ–Ω –∑ API
2	–ê—Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ WebSocket	–±–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –±–µ–∑ –ª–∞–≥—ñ–≤
3	–ü–µ—Ä–µ–ø–∏—Å–∞—Ç–∏ –∑–∞–ø–∏—Å/—á–∏—Ç–∞–Ω–Ω—è JSON –Ω–∞ aiofiles	–º–µ–Ω—à–µ –±–ª–æ–∫—É–≤–∞–Ω—å
4	–ö–µ—à—É–≤–∞—Ç–∏ —Ü—ñ–Ω–∏ –≤ –ø–∞–º‚Äô—è—Ç—ñ	–º—ñ–Ω—ñ–º—É–º I/O –∑–∞—Ç—Ä–∏–º–æ–∫
5	–ü–∞—Ä–∞–ª–µ–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ —Ü–∏–∫–ª—ñ–≤ (asyncio.gather)	–ø—Ä–∏—à–≤–∏–¥—à–µ–Ω–Ω—è √ó2‚Äì3
6	–î–æ–¥–∞—Ç–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ loguru	–∫—Ä–∞—â–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
7	–ü—Ä–æ–≤–µ—Å—Ç–∏ —Å—Ç—Ä–µ—Å-—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è	–∫–æ–Ω—Ç—Ä–æ–ª—å —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ