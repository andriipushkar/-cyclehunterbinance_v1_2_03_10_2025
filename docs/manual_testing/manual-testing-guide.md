# Посібник з ручного тестування: CycleHunter

Цей документ описує кроки для ручного тестування функціональності **CycleHunter** через термінал.

## 1. Попередні налаштування

Перед початком тестування переконайтеся, що у вас все налаштовано.

### 1.1. Віртуальне середовище та залежності

Для коректної роботи всіх скриптів потрібно активувати віртуальне середовище та встановити необхідні бібліотеки.

```bash
# Активуйте віртуальне середовище
source .venv/bin/activate
```

Якщо ви не встановлювали залежності, зробіть це:

```bash
pip install -r requirements.txt
```

### 1.2. API Ключі Binance

Для підключення до Binance потрібні API ключі.

1.  Створіть файл `.env` у кореневому каталозі проекту.
2.  Додайте до нього ваші ключі:

    ```
    BINANCE_API_KEY=your_api_key_here
    BINANCE_API_SECRET=your_api_secret_here
    ```

    **Важливо:** Для безпеки рекомендується використовувати ключі з правами "тільки для читання".

## 2. Кроки тестування

### 2.1. Моніторинг балансу

#### Крок 1: Перевірка балансу

Ця команда показує поточний стан балансів.

1.  **Виконайте команду:**

    ```bash
    python3 -m cli_monitor balance get
    ```

2.  **Очікуваний результат:**
    - В консолі з'явиться інформація про загальний баланс та баланси для Spot, Futures та Earn.
    - У папці `output` будуть створені/оновлені файли `balance_output.json` та `balance_output.txt` з детальною інформацією про баланси.

#### Крок 2: Запуск моніторингу балансу

Ця команда запускає безперервне відстеження балансів.

1.  **Виконайте команду:**

    ```bash
    python3 -m cli_monitor balance monitor
    ```

2.  **Очікуваний результат:**
    - Скрипт буде безперервно працювати, оновлюючи дані кожні 60 секунд.
    - В консолі будуть з'являтися повідомлення про час оновлення даних.
    - Файл `output/balance_output.txt` буде постійно оновлюватися.

3.  **Зупинка:**
    Щоб зупинити моніторинг, натисніть `Ctrl+C` у терміналі.

### 2.2. Арбітраж

Тестування складається з трьох основних етапів.

#### Крок 1: Пошук арбітражних циклів

На цьому етапі скрипт знаходить усі можливі арбітражні цикли на основі вашої конфігурації.

1.  **Виконайте команду:**

    ```bash
    python3 -m cli_monitor arbitrage find-cycles
    ```

2.  **Очікуваний результат:**
    У каталозі `configs/` будуть створені/оновлені файли:
    - `possible_cycles.json`: список циклів у форматі JSON.
    - `possible_cycles.txt`: список циклів у зручному для читання форматі.

#### Крок 2: Запуск моніторингу в реальному часі

Це основний крок, на якому бот починає відстежувати ціни в реальному часі та розраховувати прибутковість знайдених циклів.

1.  **Виконайте команду:**

    ```bash
    python3 -m cli_monitor arbitrage run-monitor
    ```

2.  **Очікуваний результат:**
    - Скрипт буде безперервно працювати, підключаючись до Binance через WebSockets.
    - Усі розраховані прибутки (позитивні та негативні) записуються в `output/all_profits.txt` та `output/all_profits.json` кожні 2 секунди.
    - Якщо `profit_pct` > `min_profit_threshold` (з файлу `configs/config.json`), цикл записується в `output/profits.txt`.

3.  **Зупинка:**
    Щоб зупинити моніторинг, натисніть `Ctrl+C` у терміналі.

#### Крок 3: Бектестінг

Ця команда дозволяє перевірити стратегію на історичних даних.

1.  **Виконайте команду:**

    ```bash
    python3 -m cli_monitor arbitrage backtest <start_date> <end_date>
    ```
    Замініть `<start_date>` та `<end_date>` на дати у форматі `YYYY-MM-DD`.

    Приклад:
    ```bash
    python3 -m cli_monitor arbitrage backtest 2023-01-01 2023-01-02
    ```

2.  **Очікуваний результат:**
    - Скрипт завантажить історичні дані та проаналізує їх.
    - Результати бектестінгу (тільки прибуткові цикли, що перевищують `min_profit_threshold`) будуть збережені у файлі `logs/backtest_results.log`.